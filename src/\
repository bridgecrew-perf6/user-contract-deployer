import './App.css';
import React, { useState } from 'react';
import Button from 'react-bootstrap/Button';
import { ethers } from "ethers";
import { abi, bytecode } from "./SmartContract.js";

function App() {
	const provider = new ethers.providers.Web3Provider(window.ethereum);
	const signer = provider.getSigner();

	const deployer = async () => {
		// GET contract
		const ContractFile = new ethers.ContractFactory(abi,bytecode,signer);
		const contractFile = await ContractFile.deploy();
		await contractFile.deployed();

		console.log("Smart contract deployed with address:", contractFile.address);
	};

  // Functions API SERVER
  const getContractFile = async () => {
    try {
        const response = await fetch('http://127.0.0.1:8080/getArtifact');
        console.log(response);
    } catch (err) {
        console.log(err);
    }
  }

  return (
    <div className="App">
      <header className="App-header">
					<Button onClick={getContractFile} variant="primary">Deploy contract</Button>
      </header>
    </div>
  );
}

export default App;
